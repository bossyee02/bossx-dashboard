<body data-theme="light">

  <!-- ===== Running Text Harga ===== -->
  <style>
    .ticker-bar {
      position: relative;
      overflow: hidden;
      background: #0f1115;
      border-top: 1px solid rgba(245, 197, 66, 0.25);
      border-bottom: 1px solid rgba(245, 197, 66, 0.25);
      padding: 8px 0;
    }
    .ticker-inner {
      position: relative;
      width: 100%;
    }
    .ticker-track {
      display: inline-block;
      white-space: nowrap;
      will-change: transform;
      animation: ticker-scroll 28s linear infinite;
    }
    .ticker-item {
      display: inline-flex;
      align-items: baseline;
      gap: 8px;
      margin-right: 32px;
      color: #eaeaea;
      font-size: 14px;
    }
    .ticker-label { color: #f5c542; font-weight: 700; letter-spacing: .3px; }
    .ticker-sep { opacity: .35; }
    .chg-up { color: #39d98a; }
    .chg-down { color: #ff6b6b; }
    @keyframes ticker-scroll {
      0% { transform: translateX(0); }
      100% { transform: translateX(-50%); }
    }
    @media (max-width: 480px) {
      .ticker-item { margin-right: 24px; font-size: 13px; }
    }
  </style>

  <div class="ticker-bar">
    <div class="ticker-inner">
      <div class="ticker-track" id="tickerTrack">
        <!-- Konten diisi JS -->
      </div>
    </div>
  </div>

  <script>
    const CMC_API_KEY = 'PASTE_API_KEY_KAMU_DI_SINI'; // API key CMC
    const REFRESH_MS = 30000;
    const QUOTE = 'USDT';
    const SYMBOLS = ['BTC','ETH','SOL'];
    const BOSSX_PRICE = 1;
    const BOSSX_CHANGE_24H = 0;

    const fmtUSDT = (n) => {
      if (n == null) return 'N/A';
      if (n >= 1000) return n.toLocaleString('en-US', { maximumFractionDigits: 2 }) + ' USDT';
      return n.toLocaleString('en-US', { minimumFractionDigits: 4, maximumFractionDigits: 6 }) + ' USDT';
    };
    const fmtPct = (n) => {
      if (n == null || isNaN(n)) return '';
      const sign = n >= 0 ? '+' : '';
      return `${sign}${n.toFixed(2)}%`;
    };

    async function fetchCmcQuotes(symbols) {
      const url = `https://pro-api.coinmarketcap.com/v1/cryptocurrency/quotes/latest?symbol=${encodeURIComponent(symbols.join(','))}&convert=${encodeURIComponent(QUOTE)}`;
      const headers = { 'X-CMC_PRO_API_KEY': CMC_API_KEY, 'Accept': 'application/json' };
      const out = {};
      try {
        const res = await fetch(url, { headers });
        if (!res.ok) throw new Error('CMC error ' + res.status);
        const json = await res.json();
        symbols.forEach(sym => {
          const row = json?.data?.[sym];
          const q = row?.quote?.[QUOTE];
          out[sym] = {
            price: q?.price ?? null,
            chg24: q?.percent_change_24h ?? null
          };
        });
      } catch (e) {}
      return out;
    }

    function buildItems({ btc, eth, sol, bossx }) {
      const items = [];
      items.push(`
        <span class="ticker-item">
          <span class="ticker-label">BOSSX/USDT</span>
          <span class="ticker-sep">•</span>
          <span>${fmtUSDT(bossx.price)}</span>
          <span class="${bossx.chg24 >= 0 ? 'chg-up' : 'chg-down'}">${fmtPct(bossx.chg24)}</span>
        </span>
      `);
      items.push(`
        <span class="ticker-item">
          <span class="ticker-label">BTC/USDT</span>
          <span class="ticker-sep">•</span>
          <span>${fmtUSDT(btc.price)}</span>
          <span class="${(btc.chg24 ?? 0) >= 0 ? 'chg-up' : 'chg-down'}">${fmtPct(btc.chg24)}</span>
        </span>
      `);
      items.push(`
        <span class="ticker-item">
          <span class="ticker-label">ETH/USDT</span>
          <span class="ticker-sep">•</span>
          <span>${fmtUSDT(eth.price)}</span>
          <span class="${(eth.chg24 ?? 0) >= 0 ? 'chg-up' : 'chg-down'}">${fmtPct(eth.chg24)}</span>
        </span>
      `);
      items.push(`
        <span class="ticker-item">
          <span class="ticker-label">SOL/USDT</span>
          <span class="ticker-sep">•</span>
          <span>${fmtUSDT(sol.price)}</span>
          <span class="${(sol.chg24 ?? 0) >= 0 ? 'chg-up' : 'chg-down'}">${fmtPct(sol.chg24)}</span>
        </span>
      `);
      return items.join('');
    }

    function mountTrack(html) {
      const track = document.getElementById('tickerTrack');
      track.innerHTML = html + html;
    }

    async function refreshTicker() {
      const bossx = { price: BOSSX_PRICE, chg24: BOSSX_CHANGE_24H };
      const quotes = await fetchCmcQuotes(SYMBOLS);
      const btc = quotes.BTC ?? { price: null, chg24: null };
      const eth = quotes.ETH ?? { price: null, chg24: null };
      const sol = quotes.SOL ?? { price: null, chg24: null };
      const html = buildItems({ btc, eth, sol, bossx });
      mountTrack(html);
    }

    refreshTicker();
    setInterval(refreshTicker, REFRESH_MS);
  </script>
  <!-- ===== End Running Text Harga ===== -->

  <div class="container" id="container">
