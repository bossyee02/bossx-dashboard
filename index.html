<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard BossX</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #6a0dad, #ff69b4);
      color: #FFD700;
    }
    .container {
      display: grid;
      grid-template-columns: 250px 1fr;
      min-height: 100vh;
    }
    aside {
      background: rgba(0,0,0,0.4);
      padding: 16px;
    }
    .sidebar-logo {
      display: flex;
      align-items: center;
      margin-bottom: 16px;
    }
    .sidebar-logo img {
      height: 60px;
    }
    .sidebar-logo-text {
      margin-left: 12px;
      font-size: 1.4rem;
      font-weight: bold;
    }
    nav a {
      display: block;
      padding: 8px 0;
      color: #FFD700;
      text-decoration: none;
    }
    .content {
      padding: 20px;
    }
    header {
      display: flex;
      justify-content: flex-end;
      align-items: center;
      margin-bottom: 20px;
    }
    .user-info {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .user-info img {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      border: 2px solid #FFD700;
    }
    .card {
      background: rgba(0,0,0,0.3);
      border: 1px solid #FFD700;
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 20px;
    }
    .card h2 {
      margin-bottom: 12px;
    }
    .saldo-value {
      font-size: 1.4rem;
      font-weight: bold;
      margin-bottom: 8px;
    }
    .btn {
      padding: 8px 16px;
      background: #FFD700;
      color: #6a0dad;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    .btn:disabled {
      background: #444;
      color: #aaa;
      cursor: not-allowed;
    }
    input[type="number"] {
      padding: 6px;
      width: 120px;
      margin-bottom: 8px;
      border-radius: 6px;
      border: none;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 8px;
    }
    th, td {
      border: 1px solid #FFD700;
      padding: 6px;
      text-align: center;
    }
    th {
      background: #FFD700;
      color: #6a0dad;
    }
    .footer {
      text-align: center;
      padding: 16px;
      background: rgba(0,0,0,0.2);
    }
  </style>
</head>
<body>
  <div class="container">
    <aside>
      <div class="sidebar-logo">
        <img src="https://i.ibb.co/qYBkPDH3/Picsart-25-04-01-16-25-47-054.png" alt="Logo BossX" />
        <span class="sidebar-logo-text">BossX</span>
      </div>
      <nav>
        <a href="#">üè† Dashboard</a>
        <a href="#">üìú History</a>
        <a href="#">‚öôÔ∏è Settings</a>
        <a href="#">üîí Logout</a>
      </nav>
    </aside>

    <div class="content">
      <header>
        <div class="user-info">
          <img src="https://i.ibb.co/gbVsGLy0/FB-IMG-1617237754232.jpg" alt="Avatar" />
          <div>
            <h3>Fery Muliawan</h3>
            <p>Validator ID: 8055</p>
          </div>
        </div>
      </header>

      <div class="card">
        <h2>node amount</h2>
        <div class="saldo-value"><span id="walletBossX">0</span> BossX</div>
        <input type="number" id="amountInput" placeholder="Minimal 50" min="50" />
        <button class="btn" id="buyBtn">Aktivkan Masternode</button>
      </div>

      <div class="card">
        <h2>History Aktivasi</h2>
        <table>
          <thead>
            <tr>
              <th>Hari</th>
              <th>Waktu</th>
              <th>Jumlah</th>
              <th>Jenis</th>
              <th>Sisa Kontrak</th>
            </tr>
          </thead>
          <tbody id="walletHistory"></tbody>
        </table>
      </div>

      <div class="footer">¬©2025 Dashboard BossX ‚Ä¢ Terbuka untuk umum üåê</div>
    </div>
  </div>

  <script>
    const amountInput = document.getElementById("amountInput");
    const buyBtn = document.getElementById("buyBtn");
    const walletLabel = document.getElementById("walletBossX");
    const walletHistory = document.getElementById("walletHistory");

    let hasPackage = false;
    let walletBossX = 0;

    function formatNow() {
      const d = new Date();
      const hari = ["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"];
      return {
        hari: hari[d.getDay()],
        tanggal: d.toLocaleDateString("id-ID"),
        jam: d.toLocaleTimeString("id-ID")
      };
    }

    function getDaysLeft(endTime) {
      const now = Date.now();
      const diff = endTime - now;
      return diff > 0 ? Math.ceil(diff / (1000 * 60 * 60 * 24)) : 0;
    }

    function renderHistory() {
      const data = JSON.parse(localStorage.getItem("activationHistory") || "[]");
      walletHistory.innerHTML = "";
      data.forEach(entry => {
        const daysLeft = getDaysLeft(entry.contractEndTime);
        const row = document.createElement("tr");
        row.innerHTML = `
          <td>${entry.hari}</td>
          <td>${entry.waktu}</td>
          <td>${entry.jumlah}</td>
          <td>${entry.jenis}</td>
          <td>${daysLeft} hari</td>
        `;
        walletHistory.appendChild(row);
      });
    }

    buyBtn.addEventListener("click", () => {
      const amt = Number(amountInput.value);
      if (isNaN(amt) || amt < 50) return alert("Minimal paket adalah 50 BossX.");
      if (hasPackage) return alert("Paket hanya dapat diaktifkan sekali.");

      hasPackage = true;
      walletBossX += amt;
      walletLabel.textContent = walletBossX + " BossX";

      const contractEndTime = Date.now() + (31 * 24 * 60 * 60 * 1000);
      const waktu = formatNow();

      const newEntry = {
        hari: waktu.hari,
        waktu: `${waktu.tanggal} ${waktu.jam}`,
        jumlah: `${amt} BossX`,
        jenis: "Aktivkan Masternode",
        contractEndTime
      };

      const history = JSON.parse(localStorage.getItem("activationHistory") || "[]");
      history.unshift(newEntry);
      localStorage.setItem("activationHistory", JSON.stringify(history));

      renderHistory();
      buyBtn.disabled = true;
    });

    renderHistory();
  </script>
</body>
</html>
